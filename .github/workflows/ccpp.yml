name: C/C++ CI

on: [push]

jobs:
    build:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v1
              with:
                  path: ${{ GITHUB_WORKSPACE }}/bgfx
            - uses: actions/checkout@v1
              with:
                  path: ${{ GITHUB_WORKSPACE }}/bx
                  repository: bkaradzic/bx
                  ref: refs/heads/master
            - uses: actions/checkout@v1
              with:
                  path: ${{ GITHUB_WORKSPACE }}/bimg
                  repository: bkaradzic/bimg
                  ref: refs/heads/master
            - name: generate project files
              run: make
              working-directory: ./bgfx
            - name: make
              run: make linux-release64
              working-directory: ./bgfx
